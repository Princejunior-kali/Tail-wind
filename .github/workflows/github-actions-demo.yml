name: Deployment_flow

on:
  push:
    branches: ["master"]

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  first:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v2

      - name: Checkout all repos
        uses: actions/checkout@v5
        with:
          path: master

      - name: Checkout tools repo
        uses: actions/checkout@v5
        with:
          repository: Princejunior-kali/GithubIntro
          path: New_repo

      - name: Test job
        run: echo "my first job"

      - name: Install npm
        run: sudo apt-get install -y npm

      - name: Run job
        run: cat New_repo/README.md

      - name: The last job
        run: echo "deployment success"